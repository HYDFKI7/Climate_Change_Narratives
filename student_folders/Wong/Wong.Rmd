---
title: "*What are the origins of the extreme flooding in Southeastern China?*"
author: "Kylie Wong"
date: "03/01/2019"
output: html_document

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

##Introduction 
As China continues to climb up the global ranks with its recent goals for technological advancements and urban development, the natural landscape of the country is put at risk. Specifically in Southeast China, where urban development is centralized around the entire Pearl River Delta, large cities like Guangzhou and many others are at a high risk of flooding. As a result, the urban infrastructure is threatened. In addition, the entire livelihood of Chinese citizens are threatened with the high frequency of flash floods. The heavy rainfall and flooding in Southeast China in the summer of 2016 generated $1.1 billion in damages, left 200,000 people without a home, and took 36 lives (NSSL). With climate change escalating extreme weather trends, the frequency of these floods are likely to increase, costing more lives and creating more damages. 

In this blog, I will attempt to explore the origins of the floods in the Pearl River Basin of South China, and what triggers the intensity of the floods. In addition, I will analyze the impacts of the floods on the socio-economic infrastructure of Southeast China; therefore, I hypothesize that the intensity of rainfall is correlated to the power of flash floods in South China, which would lead to detrimental effects the socio-economic infrastructure in China.  



####How are floods and precipitation related?  
Floods occur after heavy and overflowing rainfall on land that is usually dry. The most dangerous floods are flash floods, which can flood an entire region in a short amount of time with high intensity. What makes these flood even more dangerous is its unpredictability, which can easily devastate a region that is under-prepared and also densely populated like Southeastern China.    



##Methods  
To conduct this study, I accessed the database on National Oceanic and Atmospheric Administration  (NOAA) to collect precipitation data in my region of study. I collected data from: Guangzhou, the delta region in the eastern part of the basin; Hechi, which is in the western part; and Guilin, which is closest to the northwestern part of the basin. I chose to graph three different sets of data to test if the differences in the geographic terrain of the watershed is correlated with the amounts of precipitation in each region. In addition, I accessed multiple peer review journals for the information about specific extreme climate patterns (which are all cited below). 



##Data
```{r,read, echo = FALSE, results= 'hide'}
file.choose()
read.csv("/home/CAMPUS/hwab2018/Climate_Change_Narratives/student_folders/Wong/guangzhouprecip.csv")
guangzhou_precdata <- read.csv("/home/CAMPUS/hwab2018/Climate_Change_Narratives/student_folders/Wong/guangzhouprecip.csv")
head(guangzhou_precdata)
str(guangzhou_precdata)
names(guangzhou_precdata)
```

```{r}
#plotting
#plot(PRCP~DATE, guangzhou_precdata)
min(guangzhou_precdata$PRCP)
strDates <- as.character(guangzhou_precdata$DATE)
climate_data$NewDate <- as.Date(strDates, "%Y-%m-%d")

```

```{r}
plot(PRCP~NewDate, guangzhou_precdata)
prcp.lm=lm(PRCP~NewDate, data=guangzhou_precdata)
abline(coef(prcp.lm), col="red")
```
```{r}
guangzhou_precdata$PRCP[guangzhou_precdata$PRCP==-9999] <- NA
Missing <- aggregate(is.na(guangzhou_precdata$PRCP), list(guangzhou_precdata$Month, guangzhou_precdata$Year), sum)

```




##Guangzhou, China Temperature Graph 
(this may not be relevant to my research)
```{r, read, echo = FALSE, results='hide'}
#preparing and reading CSV file 
#read.csv("/home/CAMPUS/hwab2018/Climate_Change_Narratives/student_folders/Wong/kyliewong_guangzhou_data.csv")
climate_data <- read.csv("/home/CAMPUS/hwab2018/Climate_Change_Narratives/student_folders/Wong/kyliewong_guangzhou_data.csv")
head(climate_data)
str(climate_data)
#climate_data$TMAX
plot(TMAX~DATE, climate_data)
min(climate_data$TMAX)
min(climate_data$TMAX, na.rm=T)
```

```{r, fixdates, echo = FALSE}
##Changing dates
climate_data$TMAX[climate_data$TMAX==-9999] = NA
climate_data$TMIN[climate_data$TMIN==-9999] = NA
plot(TMAX~DATE, climate_data[1:1835,], ty='l')
str(climate_data)
strDates <- as.character(climate_data$DATE)
climate_data$NewDate <- as.Date(strDates, "%Y-%m-%d")
plot(TMAX~NewDate, climate_data[1:1835,], ty='l')
```

```{r, echo = FALSE}
##Preparing the monthly average plots 
lm(TMAX ~ NewDate, data=climate_data)
summary(lm(TMAX ~ NewDate, data=climate_data))
climate_data$Month = format(as.Date(climate_data$NewDate), format = "%m")
climate_data$Year = format(climate_data$NewDate, format="%Y")
MonthlyTMAXMean = aggregate(TMAX ~ Month + Year, climate_data, mean)
MonthlyTMAXMean$YEAR = as.numeric(MonthlyTMAXMean$Year)
MonthlyTMAXMean$MONTH = as.numeric(MonthlyTMAXMean$Month)
str(MonthlyTMAXMean)
plot(MonthlyTMAXMean$TMAX, ty='l')
```

```{r, echo = FALSE}
##May Vector 
plot(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="05",], ty='l', xlim=c(1950, 2020))
May.lm <- lm(TMAX~YEAR, data=MonthlyTMAXMean[MonthlyTMAXMean$Month=="05",])
summary(May.lm)
abline(coef(May.lm), col="red")
MonthlyTMINMean = aggregate(TMIN ~ Month + Year, climate_data, mean)
MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year)
MonthlyTMINMean$YEAR = as.numeric(MonthlyTMINMean$Year)
MonthlyTMINMean$MONTH = as.numeric(MonthlyTMINMean$Month)
head(MonthlyTMINMean)
```


```{r, echo = FALSE}
##Monthly averages of daily minimum temperatures
Months = c("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December")
par(mfrow = c(4, 3), mar = c(5, 4, 3, 2) + 0.1)
TMAXresult <- NA
for (i in 1:12) {
plot(TMAX ~ YEAR, data = MonthlyTMAXMean[MonthlyTMAXMean$MONTH == i, ], ty = "l", las = 1, xlim = c(1940, 2020), main = Months[i])
Month.lm <- lm(TMAX ~ YEAR, data = MonthlyTMAXMean[MonthlyTMAXMean$MONTH == i, ])
summary(Month.lm)
abline(coef(Month.lm), col = "red")
TMAXresult <- rbind(TMAXresult, cbind(Months[i],
round(coef(Month.lm)[2], 4), round(summary(Month.lm)$coefficients[2,4], 4), round(summary(Month.lm)$r.squared, 3)))
}

plot(MonthlyTMINMean$TMIN, ty='l')


```


